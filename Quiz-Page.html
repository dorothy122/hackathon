<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href = "style.css">
        <title>Crystal Ball Quiz</title>
        <style>
            .form-step {
              display: none;
              transition: opacity 0.4s ease;
            }
        
            .form-step.active {
              display: block;
              opacity: 1;
            }
        </style>
    </head>
    <body>
        <h1>Crystal Ball Quiz</h1>
        <h2>Glimpse the Future...</h2>
      
        <form id="myForm">
          <!-- Step 1 -->
          <div class="form-step active">
            <label for="FirstName">First name:</label><br>
            <input type="text" id="FirstName" name="FirstName" required><br>
            <label for="LastName">Last name:</label><br>
            <input type="text" id="LastName" name="LastName" required><br>
            <button type="button" class="next-btn">Next</button>
          </div>
      

      
          <!-- Step 3 -->
          <div class="form-step">
            <label for="Height">Height in cm:</label><br>
            <input type="number" id="Height" name="Height" required><br>
            <button type="button" class="prev-btn">Back</button>
            <button type="button" class="next-btn">Next</button>
          </div>
      
          <!-- Step 4 -->
          <div class="form-step">
            <label for="BirthMonth">Birth Month:</label><br>
            <select id="BirthMonth" name="BirthMonth" required>
              <option value="">Select</option>
              <option>January</option>
              <option>February</option>
              <option>March</option>
              <option>April</option>
              <option>May</option>
              <option>June</option>
              <option>July</option>
              <option>August</option>
              <option>September</option>
              <option>October</option>
              <option>November</option>
              <option>December</option>
            </select><br>
            <button type="button" class="prev-btn">Back</button>
            <button type="button" class="next-btn">Next</button>

          </div>

          <div class="form-step">
            <label for="Gender">Gender:</label><br>
            <input type = "radio" name = "Gender" value = "Male">
            <label>Male</label><br>
            <input type = "radio" name = "Gender" value = "Female">
            <label>Female</label><br>
            <button type="button" class="prev-btn">Back</button>
            <button type="button" class="next-btn">Next</button>
          </div>
          <div class="form-step">
            <label for="Tounge">Can You Roll Your Tongue:</label><br>
            <input type = "radio" name = "Tounge" value = "Yes">
            <label>Yes</label><br>
            <input type = "radio" name = "Tongue" value = "No">
            <label>No</label><br>
            <button type="button" class="prev-btn">Back</button>
            <button type="button" class="next-btn">Next</button>
          </div>
          <div class="form-step">
            <label for="EarLobes">Are Your Earlobes Attached:</label><br>
            <input type = "radio" name = "EarLobes" value = "Attached">
            <label>Yes</label><br>
            <input type = "radio" name = "EarLobes" value = "Detached">
            <label>No</label><br>
            <button type="button" class="prev-btn">Back</button>
            <button type="button" class="next-btn">Next</button>
          </div>
          <div class="form-step">
            <label for="Drive">Can You Drive:</label><br>
            <input type = "radio" name = "Drive" value = "Yes">
            <label>Yes</label><br>
            <input type = "radio" name = "Drive" value = "No">
            <label>No</label><br>
            <button type="button" class="prev-btn">Back</button>
            <button type="button" class="next-btn">Next</button>
          </div>
          <div class="form-step">
            <label for="Glasses">Do You Wear Glasses:</label><br>
            <input type = "radio" name = "Glasses" value = "Yes">
            <label>Yes</label><br>
            <input type = "radio" name = "Glasses" value = "No">
            <label>No</label><br>
            <button type="button" class="prev-btn">Back</button>
            <button type="submit"">Sumbit</button>
          </div>
        </form>
      
        <p id="responseMessage"></p>
      
        <script>
          const form = document.getElementById('myForm');
          const message = document.getElementById('responseMessage');
          const formSteps = document.querySelectorAll('.form-step');
          let currentStep = 0;
      
          // Step navigation
          function showStep(step) {
            formSteps.forEach((div, i) => {
              div.classList.toggle('active', i === step);
            });
          }
      
          document.querySelectorAll('.next-btn').forEach(btn => {
            btn.addEventListener('click', () => {
              if (currentStep < formSteps.length - 1) {
                currentStep++;
                showStep(currentStep);
              }
            });
          });
      
          document.querySelectorAll('.prev-btn').forEach(btn => {
            btn.addEventListener('click', () => {
              if (currentStep > 0) {
                currentStep--;
                showStep(currentStep);
              }
            });
          });
      
          // Submit handler
          form.addEventListener('submit', async (e) => {
            e.preventDefault();
            const formData = new FormData(form);
            const scriptURL = 'https://script.google.com/macros/s/AKfycbwEDyfYWRSfBVQ5Nr3u-tKY3iMR5CSUfYdF0WKGU7uZFGSrr0ziMmSO8e8RcoHY9t76/exec'; // your web app URL
      
            try {
              const response = await fetch(scriptURL, { method: 'POST', body: formData });
              const result = await response.json();
      
              if (result.result === 'success') {
                window.location.href = 'SubmissionPage.html'; // redirect to your page
              } else {
                message.textContent = 'Error: ' + result.message;
                message.style.color = 'red';
              }
            } catch (error) {
              message.textContent = 'Submission failed: ' + error.message;
              message.style.color = 'red';
            }
          });
        </script>
      </body>
    </html>